<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prompt IA</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            width: 100%;
            max-width: 600px;
            padding: 40px;
        }
        h1 { font-size: 24px; margin-bottom: 10px; color: #333; }
        .info { font-size: 12px; color: #888; margin-bottom: 25px; }
        .form-group { margin-bottom: 15px; }
        label { 
            display: block; 
            margin-bottom: 6px; 
            font-weight: 500; 
            color: #555;
            font-size: 14px;
        }
        input { 
            width: 100%; 
            padding: 10px; 
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 14px;
        }
        input:focus { outline: none; border-color: #667eea; }
        button {
            width: 100%;
            padding: 11px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            font-size: 14px;
        }
        button:hover { opacity: 0.95; }
        button:disabled { opacity: 0.6; cursor: not-allowed; }
        .response {
            margin-top: 25px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            display: none;
            max-height: 350px;
            overflow-y: auto;
            line-height: 1.6;
            color: #333;
            font-size: 14px;
        }
        .response.show { display: block; }
        .error { color: #e74c3c; }
        .loading { color: #667eea; font-style: italic; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ü§ñ Prompt IA</h1>
        <p class="info">üí° Use sua chave de API gratuita ou configure um servidor local</p>
        
        <form id="form">
            <div class="form-group">
                <label for="template">Template</label>
                <input type="text" id="template" value="Fale sobre o tema:" placeholder="Ex: Explique">
            </div>
            <div class="form-group">
                <label for="topic">Assunto</label>
                <input type="text" id="topic" placeholder="Ex: Atum" required>
            </div>
            <div class="form-group">
                <label for="apiKey">Chave API (opcional - teste sem ela)</label>
                <input type="text" id="apiKey" placeholder="sk-..." value="">
            </div>
            <button type="submit">Enviar</button>
        </form>
        <div class="response" id="response"></div>
    </div>

    <script>
        const form = document.getElementById('form');
        const responseDiv = document.getElementById('response');

        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            const template = document.getElementById('template').value;
            const topic = document.getElementById('topic').value;
            const apiKey = document.getElementById('apiKey').value;
            const prompt = `${template} ${topic}`;

            responseDiv.innerHTML = '<p class="loading">‚è≥ Processando...</p>';
            responseDiv.classList.add('show');

            try {
                // Tenta com API real (se tiver chave)
                if (apiKey) {
                    const res = await fetch('https://api.openai.com/v1/completions', {
                        method: 'POST',
                        headers: { 
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${apiKey}`
                        },
                        body: JSON.stringify({
                            model: 'text-davinci-003',
                            prompt: prompt,
                            max_tokens: 300,
                            temperature: 0.7
                        })
                    });
                    
                    const data = await res.json();
                    if (data.choices?.[0]?.text) {
                        responseDiv.innerHTML = `<p>${data.choices[0].text.trim()}</p>`;
                        return;
                    }
                }
                
                // Fallback: Simula resposta com padr√£o (para demonstra√ß√£o)
                const responses = {
                    'atum': 'O atum √© um peixe tele√≥steo da fam√≠lia Scombridae, conhecido por sua velocidade e for√ßa. Habita oceanos tropicais e temperados, sendo importante tanto para ecossistemas marinhos quanto para a alimenta√ß√£o humana. Existem v√°rias esp√©cies, como o atum-rabilho e o atum-patudo.',
                    'python': 'Python √© uma linguagem de programa√ß√£o de alto n√≠vel, interpretada e vers√°til. Criada por Guido van Rossum em 1991, √© conhecida por sua sintaxe clara e legibilidade. Amplamente usada em web, ci√™ncia de dados, IA e automa√ß√£o.',
                    'blog': 'Um blog √© um site ou se√ß√£o de website onde s√£o publicados artigos, posts ou not√≠cias de forma regular. Permite intera√ß√£o com leitores atrav√©s de coment√°rios. Blogs s√£o importantes ferramentas de comunica√ß√£o, marketing e compartilhamento de conhecimento.'
                };
                
                const lowerTopic = topic.toLowerCase();
                let resposta = responses[lowerTopic] || `Tema: ${topic}\n\nDesculpe, n√£o tenho informa√ß√£o espec√≠fica sobre "${topic}". Para respostas personalizadas, adicione uma chave de API do OpenAI no campo acima.`;
                
                responseDiv.innerHTML = `<p>${resposta}</p><p style="margin-top:12px; font-size:12px; color:#999">‚ö†Ô∏è Resposta de demonstra√ß√£o. Use uma chave API para respostas reais.</p>`;
            } catch (err) {
                responseDiv.innerHTML = `<p class="error">‚ùå ${err.message}</p>`;
            }
        });
    </script>
</body>
</html>
