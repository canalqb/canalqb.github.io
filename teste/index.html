<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gerador de Private Keys Bitcoin — CanalQb</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="styles.css" rel="stylesheet" />
</head>
<body>
  <nav class="navbar navbar-expand-lg shadow-sm">
    <div class="container">
      <a class="navbar-brand fw-bold text-primary" href="#">🔐 CanalQb</a>
    </div>
  </nav>

  <main class="container py-4" role="main" aria-label="Gerador de Private Keys Bitcoin">
    <h1 class="mb-3 text-center">Gerador de Private Keys Bitcoin</h1>
    <p class="text-muted text-center">Geração interativa de chaves privadas com matriz 16x16</p>

    <section class="canvas-wrapper mb-4" aria-label="Área do grid interativo">
      <canvas id="grid" aria-describedby="gridDesc" tabindex="0"></canvas>
      <div id="gridDesc" class="visually-hidden">
        Grid 16 por 16 para geração interativa de chaves privadas. Use os controles abaixo para manipular.
      </div>
    </section>

    <p class="mb-3 fw-semibold text-center">
      Faixa ativa: Linha <span id="activeRangeLabel" aria-live="polite">12 até 16, linha extra: 1</span>
    </p>

    <!-- NOVA ESTRUTURA UNIFICADA DE CONTROLES -->
    <div class="control-section mb-4">
      <h2 class="section-title">🎯 Selecionar Altura (Linha Inicial)</h2>
      <div id="heightButtons" class="button-grid"></div>

      <h2 class="section-title mt-3">📍 Selecionar Base (Linha Final)</h2>
      <div id="baseButtons" class="button-grid"></div>

      <h2 class="section-title mt-4">✨ Linha Extra (Opcional)</h2>
      <div class="mb-3">
        <label class="option-card d-flex align-items-center gap-2">
          <input type="checkbox" id="enableExtraLine" />
          <span>🔄 Habilitar linha adicional fora da faixa</span>
        </label>
      </div>
      <div class="mb-3">
        <label for="extraLineSelect" class="form-label fw-semibold">Escolher linha extra:</label>
        <select id="extraLineSelect" class="form-select" disabled>
          <option value="">Selecione uma linha</option>
        </select>
      </div>
      <div id="extraLineCells" style="display:none;"></div>
    </div>

    <!-- CONTROLES PRINCIPAIS -->
    <section class="mb-4 d-flex flex-wrap gap-2 justify-content-center" aria-label="Controles principais">
      <button id="startBtn" class="btn btn-success btn-custom" aria-pressed="false">▶ Iniciar</button>
      <button id="stopBtn" class="btn btn-warning btn-custom" disabled aria-pressed="false">⏸ Parar</button>
      <button id="clearBtn" class="btn btn-danger btn-custom">🗑 Limpar</button>
      <button id="randBtn" class="btn btn-secondary btn-custom">🎲 Aleatorizar</button>
    </section>

    <!-- CONTROLE DE VELOCIDADE --> 
    <section class="mb-4" aria-labelledby="speedLabel">
      <label for="speed" id="speedLabel" class="form-label fw-bold">⚡ Velocidade:</label>
      <input type="range" id="speed" min="1" max="300" value="150" class="form-range" 
        aria-valuemin="1" aria-valuemax="300" aria-valuenow="150" aria-describedby="speedValue" />
      <span id="speedValue" aria-live="polite" class="d-block mt-1 text-center">150 ms</span>
    </section>


    <!-- MODO DE OPERAÇÃO E OPÇÕES -->
    <section class="mb-4 d-flex flex-wrap gap-3 justify-content-center" aria-label="Modo de operação e opções">
      <fieldset>
        <legend class="fw-bold">Modo de Operação</legend>
        <label class="d-flex align-items-center gap-2" for="modeSequential">
          <input type="radio" id="modeSequential" name="mode" value="sequential" checked />
          📊 Sequencial
        </label>
        <label class="d-flex align-items-center gap-2" for="modeVertical">
          <input type="radio" id="modeVertical" name="mode" value="vertical" />
          ↕️ Vertical
        </label>
      </fieldset>

      <fieldset>
        <legend class="fw-bold">Opções</legend>
        <label class="d-flex align-items-center gap-2" for="toggleOnClick">
          <input type="checkbox" id="toggleOnClick" checked />
          👆 Clique alterna célula
        </label>
        <label class="d-flex align-items-center gap-2" for="randomizeStatesOnStep">
          <input type="checkbox" id="randomizeStatesOnStep" />
          🔄 Aleatorizar no passo
        </label>
      </fieldset>
    </section>

    <!-- SAÍDA DE CHAVES -->
    <section class="mb-3" aria-labelledby="hexBoxLabel">
      <label for="hexBox" id="hexBoxLabel" class="form-label fw-bold">🔑 Chave Privada (HEX)</label>
      <textarea id="hexBox" class="form-control output-box" rows="2" readonly aria-readonly="true" tabindex="-1"></textarea>
    </section>

    <section class="mb-3" aria-labelledby="wifBoxLabel">
      <label for="wifBox" id="wifBoxLabel" class="form-label fw-bold">💼 WIF Comprimido</label>
      <textarea id="wifBox" class="form-control output-box" rows="2" readonly aria-readonly="true" tabindex="-1"></textarea>
    </section>

    <section class="mb-3" aria-labelledby="wifBoxUncompressedLabel">
      <label for="wifBoxUncompressed" id="wifBoxUncompressedLabel" class="form-label fw-bold">📦 WIF Não Comprimido</label>
      <textarea id="wifBoxUncompressed" class="form-control output-box" rows="2" readonly aria-readonly="true" tabindex="-1"></textarea>
    </section>
  </main>

  <script src="auto16.js"></script>
</body>
</html>
